{"ast":null,"code":"import _toConsumableArray from\"/Users/antonioloza/Desktop/MERNProject/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Message from'../components/Message';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import ListGroup from'react-bootstrap/ListGroup';import Image from'react-bootstrap/Image';import Button from'react-bootstrap/Button';import Card from'react-bootstrap/Card';import Form from'react-bootstrap/Form';import addToCart from'../actions/cartActions';import{removeFromCart}from'../actions/cartActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartScreen=function CartScreen(_ref){var match=_ref.match,location=_ref.location,history=_ref.history;// STATES\nvar productId=match.params.id;var qty=location.search?Number(location.search.split('=')[1]):1;var _useSelector=useSelector(function(state){return state.cart;}),cartItems=_useSelector.cartItems;var dispatch=useDispatch();// USE EFFECT\nuseEffect(function(){if(productId)dispatch(addToCart(productId,qty));},[dispatch,productId,qty]);// HANDLERS\nvar removeFromCartHandler=function removeFromCartHandler(id){dispatch(removeFromCart(id));history.push('/cart');};var checkOutHandler=function checkOutHandler(e){history.push('/shipping');};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),cartItems.length===0?/*#__PURE__*/_jsxs(Message,{children:[\"Your Cart is Empty,\",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\" Go back to products \"})]}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:cartItems.map(function(item){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Image,{src:item.image,alt:item.name,fluid:true,rounded:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(Col,{md:2,children:item.price}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:item.qty,onChange:function onChange(e){dispatch(addToCart(item.product,Number(e.target.value)));history.push('/cart');},children:_toConsumableArray(Array(item.countInStock)).map(function(x,i){return/*#__PURE__*/_jsx(\"option\",{value:i+1,children:i+1},i+1);})})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"dark\",onClick:function onClick(e){return removeFromCartHandler(item.product);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]})},item.product);})})]}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"my-2\",children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Subtotal (\",cartItems.reduce(function(acc,item){return acc+item.qty;},0),\") items\"]}),\"$\",cartItems.reduce(function(acc,item){return acc+item.price*item.qty;},0).toFixed(2)]}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-block\",disabled:!cartItems.length,onClick:checkOutHandler,children:\"Check Out\"})})]})})})]})});};export default CartScreen;","map":{"version":3,"sources":["/Users/antonioloza/Desktop/MERNProject/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","Link","useDispatch","useSelector","Message","Row","Col","ListGroup","Image","Button","Card","Form","addToCart","removeFromCart","CartScreen","match","location","history","productId","params","id","qty","search","Number","split","state","cart","cartItems","dispatch","removeFromCartHandler","push","checkOutHandler","e","length","map","item","image","name","product","price","target","value","Array","countInStock","x","i","reduce","acc","toFixed"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport Image from 'react-bootstrap/Image'\nimport Button from 'react-bootstrap/Button'\nimport Card from 'react-bootstrap/Card'\nimport Form from 'react-bootstrap/Form'\nimport addToCart from '../actions/cartActions'\nimport { removeFromCart } from '../actions/cartActions'\n\n\nconst CartScreen = ({ match, location, history }) => {\n\t// STATES\n\tconst productId = match.params.id\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1\n\tconst { cartItems } = useSelector((state) => state.cart)\n\tconst dispatch = useDispatch()\n\n\t// USE EFFECT\n\tuseEffect(() => {\n\t\tif (productId) dispatch(addToCart(productId, qty))\n\t}, [dispatch, productId, qty])\n\n\t// HANDLERS\n\tconst removeFromCartHandler = (id) => {\n\t\tdispatch(removeFromCart(id))\n\t\thistory.push('/cart')\n\t}\n\n\tconst checkOutHandler = (e) => {\n\t\thistory.push('/shipping')\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Row>\n\t\t\t\t<Col md={8}>\n\t\t\t\t\t<h1>Shopping Cart</h1>\n\t\t\t\t\t{cartItems.length === 0 ? (\n\t\t\t\t\t\t<Message>\n\t\t\t\t\t\t\tYour Cart is Empty,\n\t\t\t\t\t\t\t<Link to=\"/\"> Go back to products </Link>\n\t\t\t\t\t\t</Message>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t{cartItems.map((item) => (\n\t\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\n\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t<Col md={2}>\n\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/products/${item.product}`}>{item.name}</Link>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col md={2}>{item.price}</Col>\n\n\t\t\t\t\t\t\t\t\t\t{/* CHANGE THE QUANTITY OF SELECTED PRODUCT */}\n\t\t\t\t\t\t\t\t\t\t<Col md={2}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.qty}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddToCart(item.product, Number(e.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\thistory.push('/cart')\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(item.countInStock)].map((x, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={i + 1} value={i + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t\t<Col md={2}>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => removeFromCartHandler(item.product)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\" />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t)}\n\t\t\t\t</Col>\n\t\t\t\t<Col md={4}>\n\t\t\t\t\t<Card className=\"my-2\">\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\tSubtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)}\n\t\t\t\t\t\t\t\t\t) items\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t$\n\t\t\t\t\t\t\t\t{cartItems\n\t\t\t\t\t\t\t\t\t.reduce((acc, item) => acc + item.price * item.qty, 0)\n\t\t\t\t\t\t\t\t\t.toFixed(2)}\n\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"btn-block\"\n\t\t\t\t\t\t\t\t\tdisabled={!cartItems.length}\n\t\t\t\t\t\t\t\t\tonClick={checkOutHandler}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCheck Out\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t)\n}\n\nexport default CartScreen"]},"metadata":{},"sourceType":"module"}